process CaloTest  = {

	service = MessageLogger	{
		untracked vstring destinations = {"cout"} 
		untracked vstring categories = { "SimG4CoreGeometry" }
		untracked vstring debugModules = { "*" }
		untracked PSet cout = { untracked string threshold = "DEBUG"
			untracked PSet default = { untracked int32 limit = 0 }
			untracked PSet SimG4CoreGeometry = { untracked int32 limit =-1} 
		}
	}

	untracked PSet maxEvents = {untracked int32 input = 1000}
	include "SimGeneral/HepPDTESSource/data/pdt.cfi"
	source = FlatRandomEGunSource {
		untracked PSet PGunParameters = {
			untracked vint32 PartID = {211}
			untracked double MinEta =  0.
			untracked double MaxEta =  0.
			untracked double MinPhi =  1.57079632679489661923
			untracked double MaxPhi =  1.57079632679489661923
			untracked double MinE   =  9.99
			untracked double MaxE   = 10.01
		}
		untracked int32 Verbosity = 0 
	}

        service = Timing {}

	service = RandomNumberGeneratorService {
		untracked uint32 sourceSeed = 135799753
		PSet moduleSeeds =
		{
			untracked uint32 VtxSmeared = 123456789
			untracked uint32 g4SimHits = 9876
		}
	}

	include "IOMC/EventVertexGenerators/data/VtxSmearedGauss.cfi"
	replace VtxSmeared.SigmaX = 0.00001
	replace VtxSmeared.SigmaY = 0.00001
	replace VtxSmeared.SigmaZ = 0.00001

	#Geometry
	include "SimG4Core/CheckSecondary/test/data/testGeom.cfi"
	
	include "SimG4Core/Application/data/g4SimHits.cfi"
	replace g4SimHits.UseMagneticField       = false    
	replace g4SimHits.Physics.type = "SimG4Core/Physics/QGSP_EMV"
	replace g4SimHits.Physics.DefaultCutValue = 1.
	replace g4SimHits.Watchers = {
                    {string type                   = "CheckSecondary"
                     PSet CheckSecondary = {
			untracked int32  Verbosity         = 0
			untracked int32  KillAfter         = 1
			untracked bool   SuppressHeavy     = false
			untracked double IonThreshold      = 100.0
			untracked double NeutronThreshold  = 100.0
			untracked double ProtonThreshold   = 100.0
			untracked string SaveInFile        = "secondary.root"
                    }  }
                }
	module op = PoolOutputModule {untracked string fileName = "simevent.root"}

	path p1 = { VtxSmeared, g4SimHits }
	endpath outpath = { op }

}		
